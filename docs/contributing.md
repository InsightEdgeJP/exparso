# コントリビューションガイド

このプロジェクトへのご関心ありがとうございます。本ガイドでは、どのようにプロジェクトへ貢献できるかを説明します。

## コントリビューションの方法

1. **リポジトリをフォークする**  
   コントリビューションの作業はご自身のフォークから始めます。  
   [環境構築](#環境構築) を参考にして、ローカル環境をセットアップしてください。
2. **作業用ブランチを作成する**  
   機能追加やバグ修正ごとに、わかりやすい名前のブランチを作成してください。  
   例: `feature/add-new-module` や `fix/typo-in-docs` など。  [ブランチ戦略](#ブランチ戦略) を参考にしてください。
3. **変更をコミットする**  
   変更内容を明確にするコミットメッセージを心がけてください。  
   コードスタイルやテストを[pre-commit](コードスタイル) により自動でチェックされます。
4. **Pull Request を送る**  
   変更が完了したら、メインリポジトリへ Pull Request を作成してください。  
   タイトルや説明文に変更内容の要約を含めてください。  
   レビューアーは指摘箇所があればコメントしますので、適宜対応の上、修正コミットを行ってください。

## 環境構築

以下で依存ライブラリをインストールします。`uv` コマンドを使用していますので、事前にインストールしてください。

```bash
uv sync --all-groups
```

結合テストや評価を行う場合は、`.env.sample`から`.env`を作成し、環境変数を設定してください。  
`LangFuse`を利用する場合は該当の`Publick/Secret Key`と`Host`を設定してください。

## ブランチ戦略

- `feature/xxx`：新機能の追加
- `fix/xxx`：バグ修正
- `hotfix/xxx`：緊急のバグ修正
- `docs/xxx`：ドキュメント修正

`main` ブランチへのタグ付けによりリリースを行います。

## コードスタイル

コードスタイルや品質を保つために pre-commit フックを使用しています。以下の手順でセットアップしてください。

1. **pre-commit のインストール**  
    プロジェクトのルートディレクトリで以下のコマンドを実行します。

    ```bash
    uv run pre-commit install
    ```

2. **設定ファイルの確認**  
    `.pre-commit-config.yaml` ファイルに定義されたフックが実行されます。必要に応じて設定を確認・変更してください。

3. **コミット時のチェック**  
    コミット時に自動的にフックが実行され、コードスタイルやリンターのルールが適用されます。問題がある場合は修正して再度コミットしてください。

## 結合テスト

結合テストを行う場合は、以下のコマンドを実行してください。

```bash
uv run pytest tests/integrate
```

## 評価

評価を行う場合は、以下のコマンドを実行してください。

```bash
uv run eval
```

## Issue の作成

- バグを見つけた場合や新機能の提案を行う場合は Issue を作成してください。
- タイトルや詳細な再現手順、期待する結果などをできるだけ明確に書いてください。

## その他

- 大きな改変やアーキテクチャに関わる変更は、事前に Issue で相談してから実装を進めることを推奨します。
- 貢献者同士、互いにリスペクトを持ち、コミュニケーションを取り合いましょう。

以上のプロセスを守っていただくことで、スムーズにコラボレーションできます。ご協力ありがとうございます！
